<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mathema Game</title>
<link rel="icon" href="favicon.ico" type="image/x-icon">
<style>
body {
    font-family: 'Poppins', sans-serif;
    background-color: #F0F8FF;
    text-align: center;
    padding: 20px;
}

/* Page layout */
.page { margin-top: 50px; }

/* Front Page Title - Navy Blue */
#homePage h1 {
    font-family: 'Comic Sans MS', cursive, sans-serif;
    font-size: 90px;
    color: #000080; /* NAVY BLUE */
    text-shadow: 3px 3px 5px #aaa;
    animation: bounce 1s infinite alternate;
    margin-bottom: 50px;
}

/* Bounce animation */
@keyframes bounce {
    0% { transform: translateY(0); }
    100% { transform: translateY(-15px); }
}

/* Level Selection Page Title */
#levelSelectPage h2 {
    font-size: 60px;
    color: #333;
    margin-bottom: 40px;
    text-shadow: 2px 2px 5px #aaa;
}

/* Buttons */
button {
    color: white; margin: 20px; border: none;
    border-radius: 20px; cursor: pointer; transition: all 0.3s;
}
button:hover { transform: scale(1.1); box-shadow: 0px 0px 15px rgba(0,0,0,0.3); }

/* Level Buttons */
.easy { background-color: #FFD700; color: #333; padding: 25px 50px; font-size:36px; font-weight:bold; }
.average { background-color: #FFA500; padding: 25px 50px; font-size:36px; font-weight:bold; }
.difficult { background-color: #FF8C00; padding: 25px 50px; font-size:36px; font-weight:bold; }

/* Smaller Submit and Restart Buttons */
#submitBtn { background-color: #4CAF50; padding: 15px 30px; font-size: 24px; border-radius: 12px; font-weight: normal; }
.restart { background-color: #FF4500; padding: 15px 30px; font-size: 24px; border-radius: 12px; font-weight: normal; }

/* Start Button */
#startBtn { background-color: #4CAF50; padding: 25px 50px; font-size:36px; font-weight:bold; }

/* Timer */
#timer { font-size: 24px; margin-bottom: 10px; font-weight: normal; }

/* Question */
#questionContainer { font-size: 42px; font-weight: bold; margin: 20px 0; }

/* Answer input */
#answerInput { font-size: 32px; padding: 15px; width: 220px; text-align: center; margin-bottom: 10px; }

/* Feedback */
#feedback { font-size: 24px; margin-top: 20px; font-weight: bold; }
</style>
</head>
<body>

<!-- Home Page -->
<div id="homePage" class="page">
    <h1>Mathema Game</h1>
    <button id="startBtn" onclick="goToLevelSelect()">GAME ON</button>
</div>

<!-- Level Selection Page -->
<div id="levelSelectPage" class="page" style="display:none;">
    <h2>Select Level</h2>
    <button class="easy" onclick="startLevel('easy')">Easy</button>
    <button class="average" onclick="startLevel('average')">Average</button>
    <button class="difficult" onclick="startLevel('difficult')">Difficult</button>
</div>

<!-- Game Page -->
<div id="gamePage" class="page" style="display:none;">
    <div id="timer">Time: 60s</div>
    <div id="questionContainer"></div>
    <input type="number" id="answerInput" placeholder="Enter your answer">
    <br>
    <button id="submitBtn" onclick="submitAnswer()">Submit</button>
    <div id="feedback"></div>
    <button class="restart" onclick="restartLevel()">Restart</button>
</div>

<!-- Completion Page -->
<div id="completionPage" class="page" style="display:none;">
    <h2 id="completionMessage">Congratulations!</h2>
    <p id="scoreText"></p>
    <button class="restart" onclick="restartLevel()">Try Again</button>
    <button onclick="proceedNextLevel()">Next Level</button>
    <button onclick="goToLevelSelect()">Level Selection</button>
</div>

<script>
// ====== Name Arrays ======
const boyNames = ["Juan", "Jose", "Pedro", "Andres", "Ramon"];
const girlNames = ["Juana", "Maria", "Luz", "Carmen", "Ana"];
function getRandomBoyName(){return boyNames[Math.floor(Math.random()*boyNames.length)];}
function getRandomGirlName(){return girlNames[Math.floor(Math.random()*girlNames.length)];}

// ====== Game Variables ======
let currentLevel = '', questions = [], currentQuestionIndex = 0, score = 0, timerInterval, timeLeft = 60;

// ====== Question Generators ======
function generateEasyQuestion(){
    const num1=Math.floor(Math.random()*20)+1,num2=Math.floor(Math.random()*20)+1;
    const operators=['+','-'],op=operators[Math.floor(Math.random()*operators.length)];
    let question,answer;
    const boy=getRandomBoyName(),girl=getRandomGirlName();
    if(op==='+'){ question=`If ${boy} has ${num1} apples and buys ${num2} more, how many apples does he have now?`; answer=num1+num2; }
    else{ const [a,b]=num1>=num2?[num1,num2]:[num2,num1]; question=`If ${girl} has ${a} candies and gives ${b} away, how many candies are left?`; answer=a-b; }
    return {question,answer};
}

function generateAverageQuestion(){
    const num1=Math.floor(Math.random()*12)+2,num2=Math.floor(Math.random()*12)+2;
    const operators=['-','*'],op=operators[Math.floor(Math.random()*operators.length)];
    let question,answer;
    const boy=getRandomBoyName(),girl=getRandomGirlName();
    if(op==='*'){ question=`${boy} buys ${num1} boxes, each with ${num2} candies. How many candies in total?`; answer=num1*num2; }
    else{ const [a,b]=num1*10>=num2?[num1*10,num2]:[num2,num1*10]; question=`${girl} has ${a} candies and gives ${b} to her friend. How many are left?`; answer=a-b; }
    return {question,answer};
}

function generateDifficultQuestion(){
    const operators=['*','/','+','-'],op=operators[Math.floor(Math.random()*operators.length)];
    let question,answer;
    const boy=getRandomBoyName(),girl=getRandomGirlName();
    if(op==='*'){ const num1=Math.floor(Math.random()*20)+5,num2=Math.floor(Math.random()*10)+2; question=`${boy} has ${num1} baskets, each with ${num2} oranges. Total oranges?`; answer=num1*num2; }
    else if(op==='/'){ const num2=Math.floor(Math.random()*10)+2,answerVal=Math.floor(Math.random()*10)+2,num1=num2*answerVal; question=`There are ${num1} pencils. ${girl} divides them equally into ${num2} boxes. How many pencils per box?`; answer=answerVal; }
    else if(op==='+'){ const num1=Math.floor(Math.random()*100)+20,num2=Math.floor(Math.random()*100)+20; question=`${boy} and ${girl} have ${num1} and ${num2} students in their schools. Total students?`; answer=num1+num2; }
    else{ const num1=Math.floor(Math.random()*100)+50,num2=Math.floor(Math.random()*50)+10; question=`${girl}'s school had ${num1} books, and ${num2} were borrowed. How many remain?`; answer=num1-num2; }
    return {question,answer};
}

// ====== Page Navigation ======
function goToLevelSelect(){ hideAllPages(); document.getElementById('levelSelectPage').style.display='block'; }
function startLevel(level){ currentLevel=level; hideAllPages(); document.getElementById('gamePage').style.display='block'; generateQuestions(level); currentQuestionIndex=0; score=0; showQuestion(); }
function hideAllPages(){ document.getElementById('homePage').style.display='none'; document.getElementById('levelSelectPage').style.display='none'; document.getElementById('gamePage').style.display='none'; document.getElementById('completionPage').style.display='none'; }
function generateQuestions(level){ questions=[]; for(let i=0;i<10;i++){ if(level==='easy') questions.push(generateEasyQuestion()); else if(level==='average') questions.push(generateAverageQuestion()); else questions.push(generateDifficultQuestion()); } }
function showQuestion(){ const q=questions[currentQuestionIndex]; document.getElementById('questionContainer').innerText=`${currentQuestionIndex+1}. ${q.question}`; document.getElementById('answerInput').value=''; document.getElementById('feedback').innerText=''; startTimer(); }
function startTimer(){ clearInterval(timerInterval); timeLeft=60; document.getElementById('timer').innerText=`Time: ${timeLeft}s`; timerInterval=setInterval(()=>{ timeLeft--; document.getElementById('timer').innerText=`Time: ${timeLeft}s`; if(timeLeft<=0){ clearInterval(timerInterval); checkAnswer(true); } },1000); }
function submitAnswer(){ checkAnswer(false); }
function checkAnswer(timeout=false){ clearInterval(timerInterval); const userAns=timeout?null:Number(document.getElementById('answerInput').value); const correctAns=questions[currentQuestionIndex].answer; if(userAns===correctAns) score++,showFeedback('Correct!','green'); else if(timeout) showFeedback(`Time's up! Correct answer was ${correctAns}`,'red'); else showFeedback('Please try again','red'); setTimeout(()=>{ currentQuestionIndex++; if(currentQuestionIndex<questions.length) showQuestion(); else showCompletion(); },1500); }
function showFeedback(text,color){ const feedback=document.getElementById('feedback'); feedback.innerText=text; feedback.style.color=color; const msg=new SpeechSynthesisUtterance(text); msg.rate=1; window.speechSynthesis.speak(msg); }
function showCompletion(){ hideAllPages(); document.getElementById('completionPage').style.display='block'; document.getElementById('scoreText').innerText=`You scored ${score}/10!`; speakFeedback("Congratulations! You finished the level."); }
function speakFeedback(text){ const msg=new SpeechSynthesisUtterance(text); msg.rate=1; window.speechSynthesis.speak(msg); }
function restartLevel(){ startLevel(currentLevel); }
function proceedNextLevel(){ if(currentLevel==='easy') startLevel('average'); else if(currentLevel==='average') startLevel('difficult'); else startLevel('easy'); }
</script>
</body>
</html>
